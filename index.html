<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alok Prakash</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
    <style>
        /* Custom Styling */
        body {
            font-family: Arial, sans-serif;
        }

        .profile-container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            border-radius: 10px;
            background-color: #f3eded;
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .profile-header h2:hover{
            color: rgb(206, 25, 226);
        }
        .profile-header .btn:hover{
            color: #000;
            background: #f4f4f4;
        }

        .profile-photo-container {
            position: relative;
            text-align: center;
            width: 350px;
            height: 350px;
            margin: 0 auto;
        }

        .profile-photo-container img {
            width: 100%;
            background: #1de0d0;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        .profile-photo-container img:hover{
            box-shadow: 0 4px 15px rgba(239, 38, 205, 0.8); 
            transform: translate(5, -5px); 
            border-radius: 50%; 
        
        }

        .profile-photo-container .change-photo-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #00bfae;
            color: white;
            border-radius: 50%;
            padding: 8px;
            cursor: pointer;
        }

        .profile-photo-container .change-photo-btn:hover {
            background-color: #1de0d0;
        }

        .profile-info {
            margin-top: 20px;
        }

        .profile-info h3 {
            font-size: 1.5rem;
        }
        .profile-info h3:hover{
            color: aqua;
        }

        .profile-info p {
            font-size: 1.1rem;
        }
        .profile-info p a{
            text-decoration: none;

        }.profile-info p a:hover{
            color: rgb(6, 111, 41);
            text-decoration: underline;
        }


        .social-icons {
            display: flex;
            justify-content: center;  /* Center the icons horizontally */
            gap: 20px;
        }

        .social-icons a {
            color: #50c5da;  /* Icon color */
            font-size: 30px;  /* Icon size */
            position: relative;  /* Position for the tooltip */
            text-decoration: none;
        }

        .social-icons a:hover {
            color: #64ffff;
            transition: all 0.3s linear ;
            opacity: 1;
            transform: scale(1.2);
            font-size: 35px;

        }
        .blinking {
            animation: blink-animation 1s infinite step-start;
          }
          
          @keyframes blink-animation {
            0% { visibility: visible; }
            50% { visibility: hidden; }
            100% { visibility: visible; }
          }
          
          .color-change {
            animation: colorAnimation 5s infinite;
          }
          
          @keyframes colorAnimation {
            0% {
              color: red; /* Initial color */
            }
            25% {
              color: blue; /* 1st color change */
            }
            50% {
              color: rgb(190, 34, 252); /* 2nd color change */
            }
            75% {
              color: yellow; /* 3rd color change */
            }
            100% {
              color: rgb(36, 212, 235); /* 4th color change */
            }
          }
          #userContact{
            font-weight: 400;

          }
          #userContact:hover{
            font-weight: 500;
            color: blue;
            
          }
    </style>
</head>

<body>

    <div class="container profile-container">
        <div class="profile-header ">
            <h2 class="blinking "><p class="color-change">Alok Prakash</p></h2>
            <button class="btn btn-primary color-change" data-bs-toggle="modal" data-bs-target="#editModal">Edit Profile</button>
        </div>

        <div class="profile-photo-container">
            <img id="profileImage" src="123.jpg" alt="Profile Photo">
            <button class="change-photo-btn" id="changePhotoBtn"><i class="bi bi-pencil-fill"></i></button>
        </div>
      
        <div class="profile-info">
            <h3 id="userName">Alok Prakash</h3>
            <p><strong>Email:</strong> <span id="userEmail"><a href="#">alokprakash.net@gmail.com</a></span></p>
            <p><strong>Contact No:</strong> <span id="userContact">+91906-583-4810</span></p>
        </div>

        <div class="social-icons">
            <a href="https://www.instagram.com/technicaltiger2.0/" target="_blank"><i class="fa-brands fa-square-instagram"></i></a>
            <a href="https://github.com/alokprakash7766" target="_blank"><i class="fa-brands fa-square-github"></i></a>
            <a href="https://www.linkedin.com/in/alok-kumar-793154230/" target="_blank"><i class="fa-brands fa-linkedin"></i></a>
            <a href="https://www.youtube.com/@Alokkumar7766" target="_blank"><i class="fa-brands fa-square-youtube"></i></a>
            <a href="https://alokprakash7766.github.io/Alok_portfolio/" target="_blank"><i class="fa-brands fa-dribbble"></i></a>
        </div>
    </div>

    <!-- Modal for Edit Profile -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Change Profile Photo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label for="photoPassword">Enter Password to Change Photo:</label>
                    <input type="password" id="photoPassword" class="form-control" placeholder="Password" required>
                    <input type="file" id="newProfilePhoto" class="form-control mt-3" disabled>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="savePhotoBtn" disabled>Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const correctPassword = "Ritik@789"; // Correct password to change photo
        const profileImage = document.getElementById('profileImage');
        const changePhotoBtn = document.getElementById('changePhotoBtn');
        const photoPasswordInput = document.getElementById('photoPassword');
        const newProfilePhotoInput = document.getElementById('newProfilePhoto');
        const savePhotoBtn = document.getElementById('savePhotoBtn');
        const editModal = new bootstrap.Modal(document.getElementById('editModal'));
        let photoChanged = false; // Track whether the photo has been uploaded

        // Check if there is an image stored in localStorage
        if (localStorage.getItem("profileImage")) {
            profileImage.src = localStorage.getItem("profileImage");
            photoChanged = true;
            changePhotoBtn.disabled = true; // Disable pencil icon after upload
        }

        // When the pencil icon is clicked
        changePhotoBtn.addEventListener('click', () => {
            if (!photoChanged) {
                editModal.show();
            } else {
                alert('You have already uploaded a new photo. No further changes are allowed until a new image is selected.');
            }
        });

        // Handle password validation and enable photo change
        photoPasswordInput.addEventListener('input', () => {
            const enteredPassword = photoPasswordInput.value;
            if (enteredPassword === correctPassword) {
                newProfilePhotoInput.disabled = false;
                savePhotoBtn.disabled = false;
            } else {
                newProfilePhotoInput.disabled = true;
                savePhotoBtn.disabled = true;
            }
        });

        // Handle photo change
        savePhotoBtn.addEventListener('click', () => {
            const newFile = newProfilePhotoInput.files[0];
            if (newFile) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    profileImage.src = e.target.result; // Change the profile photo
                    alert('Profile photo updated successfully!');
                    photoChanged = true; // Mark that the photo has been changed
                    changePhotoBtn.disabled = true; // Disable the pencil icon after photo update
                    
                    // Store the photo URL in localStorage
                    localStorage.setItem("profileImage", e.target.result);
                };
                reader.readAsDataURL(newFile);
            } else {
                alert('No photo selected!');
            }
            editModal.hide();
        });
    </script>

</body>

</html>
